<!--
    Threat Model

    Threat Source: External
    Threat Agent: Human
    Threat Intention: Intentional
    Threat Motivation: Embarressment of society
    Threat Impact: Defacement of society website, changing other users review, gaining access into the database
    Threat Mitigation: User review input validation, 2FA validation for loging in
-->

<!DOCTYPE html>

<html lang = "en">
    <head>

        <!--Sets the title for the webpage-->
        <title>The Tank Society</title>

        <!--Links up the webpage with bootstrapper to allow for formatting of website-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        
        <link rel = 'stylesheet' href = 'CSS/main.css'>
        <meta charset="UTF-8">
    </head>

    <body>
        <header>

            <!--The website logo and title-->
            <img id="logo" src = "Images/logo.webp" alt = "The logo of the site which is a silhoutte of a tank"/>
            <h1 id="header">The Tank Society</h1>
            
        </header>

        <!--Navigation bar to go between pages-->
        <nav> 
            <ul>
                <li class = "active"><a href = 'index.html'>Home</a></li>
                <li class = "active"><a href = 'img_gallery.html'>Gallery</a></li>
                <li class = "active"><a href = 'current_members.html'>Current Members</a></li>
                <li class = "active"><a href = 'event_calender.html'>Events</a></li>
                <li class = "active"><a href = 'contact_us.html'>Contact Us</a></li>
                <li class = "active"><a href = "media_update.html">Updates in Media</a></li>
                <li class = "active"><a href = "reviews.html">Society Reviews</a></li>
            </ul>
        </nav>

        <main>
            <!--Sets up the area where the review things will be-->
            <div class = "container" id = "reviewArea">
                <div class = "row align-items-start">

                    <!--The area that contains the submitted reviews-->
                    <div class = "col order-1" id = "reviewBorder">
                        <h3>Past reviews:</h3>

                        <!--Area for the first review-->
                        <div id = "review1">
                            <h3>Review 1</h3>
                            <p>insert review 1 here</p>
                        </div>

                        <!--Area for the second review-->
                        <div id = "review2">
                            <h3>Review 2</h3>
                            <p>insert review 2 here</p>
                        </div>

                        <!--Area for the third review-->
                        <div id = "review3">
                            <h3>Review 3</h3>
                            <p>insert review 3 here</p>
                        </div><br>

                        <!--Title and area that contains the review submitted by the user-->
                        <h3>Your review:</h3>
                        <div id = "review3">
                            <h3 id = "reviewer-name"></h3>
                            <p id = "review-text"></p>
                        </div><br>
                    </div>

                
                    <div class = "col order-2" id = "reviewBorder">
                        <form name = "reviewForm">
                            <fieldset>

                                <!--Form description-->
                                <legend>Please leave a review of what you have thought about the society so far!</legend>

                                <!--Name input-->
                                <label for = "name">Name:</label>
                                <input type = "text" name = "name" id = "name" value = ""/> <br/>

                                <!--Input box for review-->
                                <label for = "review">Write your review below:</label> <br/>
                                <textarea name = "review" id = "review" cols = "97" rows = "8"></textarea> <br/>

                                <!--Button that submits the review and then runs the functions to put it onto the website-->
                                <button type = "button" onclick = 'submit_event("reviewer-name", document.getElementById("name").value, "review-text", document.getElementById("review").value)'>Submit</button>
                            </fieldset>
                        </form>

                        <script>

                            //Function that gets the reviewers name and then puts it into the user review section
                            function send_name(id, content){
                                var name = document.getElementById(id)
                                name.innerHTML = content
                            }

                            //Function that gets the reviewers review and then puts it into the user review section
                            function send_review(id, content){
                                var review = document.getElementById(id)
                                review.innerHTML = content
                            }

                            function play_sound(){
                                var sound = new Audio("ding-126626.mp3");
                                sound.play();
                                sound.currentTime = 0;
                            }
                            
                            function submit_event(nameID, nameContent, reviewID, reviewContent){
                                var userName = document.forms["reviewForm"]["name"].value;
                                var userReview = document.forms["reviewForm"]["review"].value;

                                if(userName == ""){
                                    alert("You must input a name for the review!");
                                }else{
                                    if(userReview.length == 0){
                                        alert("You left the review input empty! Please input a review!");
                                    }else{
                                        send_name(nameID, nameContent)
                                        send_review(reviewID, reviewContent)
                                        play_sound()
                                    }
                                }
                            }
                            

                        </script>
                    </div>
                </div>
            </div>
        </main>

        <aside>
        </aside>

        <footer>
            <!--Copyright notice-->
            <p>Copyright Callum Friel 2024</p>
        </footer>
    </body>
</html>